<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Vertical Fretboard Example</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='http://fonts.googleapis.com/css?family=Archivo+Narrow:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/vertical-neck-module.css?id=23456">

  <script src="/js/vexflow-min.js"></script>
  <script src="/js/underscore-min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
  <script src="/js/vertical.neckmodule.js"></script>  
  <script src="/js/tabdiv.js"></script>
  <script src="/js/tabdiv-debug.js"></script>
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
  <style>
    ul.chord-grid li {
      display: inline-block;
      list-style: none;
      margin: 0 15px 0 0;
    }
  </style>
</head>
<body>
<!--[if lt IE 7]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/?locale=en">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
  <ul class="chord-grid">
    <li>
      <div id="c-major-7"></div>
      <div class="vextab-container">
  <canvas id="chord-notation"></canvas>
    <div id="error"></div>
</div>
    </li>
<!--     <li><div id="d-minor-7"></div></li>
    <li><div id="f-major-7"></div></li>
    <li><div id="g-7"></div></li> -->
  </ul>
<script>
    var notationData = "options space=20\n tabstave notation=true\n notes :w (0/6.3/6.0/3.1/2.0/1.0/1)";
    var render;
    jQuery(function($) {
      Vex.Flow.Artist.DEBUG = true;
      Vex.Flow.VexTab.DEBUG = true;

      renderer = new Vex.Flow.Renderer($('#chord-notation')[0],
        Vex.Flow.Renderer.Backends.CANVAS);

      artist = new Vex.Flow.Artist(10, 10, 250, {scale: 0.8});
      vextab = new Vex.Flow.VexTab(artist);

      render = function() {
        try {
          vextab.reset();
          artist.reset();
          vextab.parse(notationData);
          artist.render(renderer);
          $("#error").text("");
        } catch (e) {
          console.log(e);
          $("#error").html(e.message.replace(/[\n]/g, '<br/>'));
        }
      }

      $('#notation-data').change(function(){
        console.log('i changed');
        render();
      });
      // $("#notation-data").change(_.throttle(render, 250));
      render();
     });
  </script>
<script>
  var cmaj7Chord = Object.create(chordModule);
  cmaj7Chord.initParams({container: "c-major-7", rootnote: "C", chordtype: "major", viewMode: "chord"});
  cmaj7Chord.initLayout();
  cmaj7Chord.initActions();

  // var dm7Chord = Object.create(chordModule);
  // dm7Chord.initParams({container: "d-minor-7", rootnote: "D", chordtype: "min7", position: 5});
  // dm7Chord.initLayout();
  // dm7Chord.initActions();

  // var fmaj7Chord = Object.create(chordModule);
  // fmaj7Chord.initParams({container: "f-major-7", rootnote: "F", chordtype: "maj7", position: 5});
  // fmaj7Chord.initLayout();
  // fmaj7Chord.initActions();

  // var g7Chord = Object.create(chordModule);
  // g7Chord.initParams({container: "g-7", rootnote: "G", chordtype: "dom7", position: 5});
  // g7Chord.initLayout();
  // g7Chord.initActions();

</script>
</body>
</html>